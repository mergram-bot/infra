global:
  resolve_timeout: 5m

route:
  group_by: ["alertname"]
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: "default-receiver"
  routes:
    - receiver: "telegram"
      match:
        severity: "critical"
    - receiver: "email"
      match:
        severity: "warning"
    - receiver: "email"
      match:
        severity: "info"

receivers:
  - name: "default-receiver"
  - name: "telegram"
    telegram_configs:
      - bot_token_file: /run/secrets/telegram_bot_token
        chat_id: -100123456789
        send_resolved: true
  - name: "email"
    email_configs:
      - from: "alerts@example.com"
        to: "admin@example.com"
        smarthost: "smtp.example.com:587"
        auth_username: "alerts@example.com"
        auth_identity: "alerts@example.com"
        auth_password_file: /run/secrets/email_password
        send_resolved: true
